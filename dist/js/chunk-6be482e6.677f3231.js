(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6be482e6"],{"06b7":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-53fa8796"),e=e(),Object(a["popScopeId"])(),e),r={class:"subcategory-page"},n={class:"container"},l={class:"bread-area"},i={key:0,class:"empty-filter"},s={key:1,class:"catefilter-loading"},d={key:2,class:"product-filter-area container"},u={class:"filter-item"},b=o(()=>Object(a["createElementVNode"])("div",{class:"left-spectitle"},[Object(a["createElementVNode"])("p",{class:"ellipsis"},"品牌:")],-1)),m={class:"right-specvalue filtervalarea"},p=["onClick","title"],j={class:"left-spectitle"},O=["title"],f={class:"right-specvalue filtervalarea"},g=["title","onClick"],v={key:3,class:"product-list-area"},h={class:"producct-filter-area"},k={class:"left-area"},N=o(()=>Object(a["createElementVNode"])("span",null,"价格排序",-1)),V={class:"sorticon"},E={class:"right-area"},y={class:"product-area"};function C(e,t,c,o,C,D){const B=Object(a["resolveComponent"])("rbreaditem"),x=Object(a["resolveComponent"])("rbread"),F=Object(a["resolveComponent"])("rempty"),I=Object(a["resolveComponent"])("rcatefilteskeleton"),S=Object(a["resolveComponent"])("rcheckbox"),w=Object(a["resolveComponent"])("rgooditem"),L=Object(a["resolveComponent"])("rloadingbottom");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",l,[Object(a["createVNode"])(x,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(B,{to:"/"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("首页")]),_:1}),Object(a["createVNode"])(B,{to:"/category/"+o.breadData.top.id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.breadData.top.name),1)]),_:1},8,["to"]),Object(a["createVNode"])(B,{to:"/category/sub/"+o.breadData.sub.id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.breadData.sub.name),1)]),_:1},8,["to"])]),_:1})]),o.firstLoading&&0===o.filterListData.saleProperties.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createVNode"])(F)])):Object(a["createCommentVNode"])("",!0),o.firstLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createVNode"])(I)])),o.firstLoading&&o.filterListData.saleProperties.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createElementVNode"])("div",u,[b,Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.filterListData.brands,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{onClick:t=>o.userSelectBrand(e),key:t,title:e.name,class:Object(a["normalizeClass"])({active:o.filterListData.brands.selectId==e.id})},Object(a["toDisplayString"])(e.name),11,p))),128))])])]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.filterListData.saleProperties,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"filter-item",key:t},[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("p",{class:"ellipsis",title:e.name},Object(a["toDisplayString"])(e.name)+":",9,O)]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.properties,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:c,title:t.name,onClick:c=>o.selectSpec(e,t),class:Object(a["normalizeClass"])({active:e.selectId==t.id})},Object(a["toDisplayString"])(t.name),11,g))),128))])])]))),128))])):Object(a["createCommentVNode"])("",!0),o.firstLoading&&o.filterListData.saleProperties.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[Object(a["createElementVNode"])("div",h,[Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:null===o.cateProductFilter.sortField}),onClick:t[0]||(t[0]=e=>o.selectFilter(null))},"默认排序",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"publishTime"===o.cateProductFilter.sortField}),onClick:t[1]||(t[1]=e=>o.selectFilter("publishTime"))},"最新商品",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"orderNum"===o.cateProductFilter.sortField}),onClick:t[2]||(t[2]=e=>o.selectFilter("orderNum"))},"最高人气",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"evaluateNum"===o.cateProductFilter.sortField}),onClick:t[3]||(t[3]=e=>o.selectFilter("evaluateNum"))},"评论最多",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:"pricearea",onClick:t[4]||(t[4]=e=>o.selectFilter("price"))},[N,Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("i",{class:Object(a["normalizeClass"])(["iconfont icon-shangjiantou",{on:"asc"===o.cateProductFilter.sortMethod}])},null,2),Object(a["createElementVNode"])("i",{class:Object(a["normalizeClass"])(["iconfont icon-xiajiantou",{on:"desc"===o.cateProductFilter.sortMethod}])},null,2)])])]),Object(a["createElementVNode"])("div",E,[Object(a["createVNode"])(S,{modelValue:o.cateProductFilter.inventory,"onUpdate:modelValue":t[5]||(t[5]=e=>o.cateProductFilter.inventory=e),onChange:o.changeRightselect},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("仅显示有货商品")]),_:1},8,["modelValue","onChange"]),Object(a["createVNode"])(S,{modelValue:o.cateProductFilter.onlyDiscount,"onUpdate:modelValue":t[6]||(t[6]=e=>o.cateProductFilter.onlyDiscount=e),onChange:o.changeRightselect},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("仅显示特惠商品")]),_:1},8,["modelValue","onChange"])])]),Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.subProductList,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t,style:Object(a["normalizeStyle"])({margin:(t+1)%5==0?"0px":"0px 12px 40px 12px"})},[Object(a["createVNode"])(w,{goodsData:e},null,8,["goodsData"])],4))),128))]),Object(a["createVNode"])(L,{loading:o.loading,finished:o.finished,onInfiniteloadData:o.loadSubData},null,8,["loading","finished","onInfiniteloadData"])])])):Object(a["createCommentVNode"])("",!0)])])}c("3c65"),c("14d9");var D=c("6605"),B=c("5502"),x=c("c405");const F={class:"rcatefilterskeleton-component"};function I(e,t,c,o,r,n){const l=Object(a["resolveComponent"])("rskeleton");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[Object(a["createVNode"])(l,{bg:"#e4e4e4",animated:"",width:"800px"}),Object(a["createVNode"])(l,{bg:"#e4e4e4",animated:"",width:"1000px"}),Object(a["createVNode"])(l,{bg:"#e4e4e4",animated:"",width:"100%"})])}var S={name:"rcatefilterskeleton"},w=(c("eca7"),c("d959")),L=c.n(w);const P=L()(S,[["render",I],["__scopeId","data-v-7da8cebc"]]);var _=P;const z=["src"],T={class:"goodsitem-name"},M={class:"goodsitem-desc ellipsis"},R={class:"goodsitem-price"};function J(e,t,c,o,r,n){const l=Object(a["resolveComponent"])("rprice");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"r-goodsitem-component",onClick:t[0]||(t[0]=e=>o.godetail(c.goodsData))},[Object(a["createElementVNode"])("img",{class:"goods-img",src:c.goodsData.picture,alt:""},null,8,z),Object(a["createElementVNode"])("div",T,Object(a["toDisplayString"])(c.goodsData.name),1),Object(a["createElementVNode"])("div",M,Object(a["toDisplayString"])(c.goodsData.desc),1),Object(a["createElementVNode"])("div",R,[Object(a["createVNode"])(l,{price:c.goodsData.price,size:"18"},null,8,["price"])])])}var U={name:"rgooditem",props:{goodsData:{type:Object,default:()=>({})}},setup(){const e=Object(D["d"])(),t=t=>{e.push({path:"/goodsdetail/"+t.id})};return{godetail:t}}};c("8b69");const $=L()(U,[["render",J],["__scopeId","data-v-07283c36"]]);var A=$,q=c("7fe6"),G=c("c40e"),H={name:"subcategory",setup(){const e=Object(a["ref"])([]);let t=Object(a["reactive"])({page:1,pageSize:18,categoryId:"",attrs:[],brandId:""});const c=Object(a["ref"])(!1),o=Object(a["ref"])(!1),r=Object(a["ref"])(!1),n=Object(D["c"])(),l=Object(B["b"])(),i=Object(a["computed"])(()=>{const e={};return l.state.category.cateList.forEach((t,c)=>{t.children.forEach((c,a)=>{c.id===n.params.id&&(e.sub={name:c.name,id:c.id},e.top={name:t.name,id:t.id})})}),e}),s=Object(a["ref"])({}),d=()=>{Object(x["b"])(n.params.id).then(e=>{const{result:{saleProperties:t,brands:c}}=e;c.selectId=null,c.unshift({id:null,name:"全部"}),t.forEach(e=>{e.selectId=null,e.properties.unshift({id:null,name:"全部"})}),s.value=e.result,r.value=!0,document.title=i.value.sub.name})};Object(a["watch"])(()=>n.params.id,t=>{t&&"/category/sub/"+t===n.path&&(e.value=[],o.value=!1,r.value=!1,d())},{immediate:!0});const u=Object(a["reactive"])({inventory:!1,onlyDiscount:!1,sortField:null,sortMethod:null}),b=c=>{if("price"!==c){if(u.sortField===c)return;u.sortField=c}else null===u.sortMethod?u.sortMethod="desc":u.sortMethod="desc"===u.sortMethod?"asc":"desc";o.value=!0,t={...u,...t},t.page=1,o.value=!1,e.value=[],m()},m=()=>{c.value=!0,t.categoryId=n.params.id,Object(G["a"])(t).then(a=>{const{result:{items:r}}=a;r.length?(e.value.push(...r),t.page++):o.value=!0,c.value=!1})},p=()=>{o.value=!0,t={...t,...u},t.page=1,o.value=!1,e.value=[],m()},j=(c,a)=>{const r=a.id;c.selectId=r,O(c,a),t={...t,...u},t.page=1,o.value=!1,e.value=[],m()},O=(e,c)=>{const a=t.attrs.findIndex(t=>t.groupName===e.name);-1!==a&&t.attrs.splice(a,1),t.attrs.push({groupName:e.name,propertyName:c.name})},f=c=>{const{id:a}=c;s.value.brands.selectId=a,t.brandId=a,t={...t,...u},t.page=1,e.value=[],o.value=!1,m()};return{breadData:i,filterListData:s,cateProductFilter:u,selectFilter:b,firstLoading:r,loading:c,finished:o,loadSubData:m,subProductList:e,changeRightselect:p,selectSpec:j,userSelectBrand:f}},components:{rcatefilteskeleton:_,rgooditem:A,rempty:q["a"]}};c("ed3e");const K=L()(H,[["render",C],["__scopeId","data-v-53fa8796"]]);t["default"]=K},"083a":function(e,t,c){"use strict";var a=c("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+a(t)+" of "+a(e))}},"22ca":function(e,t,c){},"3c65":function(e,t,c){"use strict";var a=c("23e7"),o=c("7b0b"),r=c("07fa"),n=c("3a34"),l=c("083a"),i=c("3511"),s=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:s||d},{unshift:function(e){var t=o(this),c=r(t),a=arguments.length;if(a){i(c+a);var s=c;while(s--){var d=s+a;s in t?t[d]=t[s]:l(t,d)}for(var u=0;u<a;u++)t[u]=arguments[u]}return n(t,c+a)}})},"3d83":function(e,t,c){},"71dd":function(e,t,c){},"7fe6":function(e,t,c){"use strict";var a=c("7a23"),o=c("f3e2"),r=c.n(o);const n=e=>(Object(a["pushScopeId"])("data-v-4bd8269e"),e=e(),Object(a["popScopeId"])(),e),l={class:"r-empty-componen"},i=n(()=>Object(a["createElementVNode"])("img",{src:r.a,alt:""},null,-1)),s={class:"emptytext"};function d(e,t,c,o,r,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[i,Object(a["createElementVNode"])("span",s,Object(a["toDisplayString"])(c.emptyText),1)])}var u={name:"index",props:{emptyText:{type:String,default:"暂无更多数据!"}}},b=(c("87cf"),c("d959")),m=c.n(b);const p=m()(u,[["render",d],["__scopeId","data-v-4bd8269e"]]);t["a"]=p},"87cf":function(e,t,c){"use strict";c("fc9e")},"8b69":function(e,t,c){"use strict";c("71dd")},c40e:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return r})),c.d(t,"f",(function(){return n})),c.d(t,"e",(function(){return l})),c.d(t,"c",(function(){return i})),c.d(t,"b",(function(){return s}));var a=c("b775");function o(e){return Object(a["a"])("/category/goods/temporary","post",e)}function r(e){return Object(a["a"])("/goods","get",{id:e})}function n(e,t){return Object(a["a"])("/goods/relevant","get",{id:e,limit:t})}function l(e){return Object(a["a"])("/goods/hot","get",e)}function i(e){return Object(a["a"])(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate`,"get")}function s(e,t){return Object(a["a"])(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate/page`,"get",t)}},eca7:function(e,t,c){"use strict";c("22ca")},ed3e:function(e,t,c){"use strict";c("3d83")},fc9e:function(e,t,c){}}]);
//# sourceMappingURL=chunk-6be482e6.677f3231.js.map