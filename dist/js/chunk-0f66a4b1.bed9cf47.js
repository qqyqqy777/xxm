(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f66a4b1"],{"0ff5":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o=e=>(Object(c["pushScopeId"])("data-v-a7143a76"),e=e(),Object(c["popScopeId"])(),e),l={class:"checkorder-page"},d={class:"container"},r={class:"bread-area"},n={class:"checkorder-content"},s={class:"area-line"},i=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"收货地址",-1)),b={class:"address-area"},u={key:0,class:"address-left"},m=o(()=>Object(c["createElementVNode"])("span",null,[Object(c["createTextVNode"])("收"),Object(c["createElementVNode"])("i"),Object(c["createTextVNode"])("货"),Object(c["createElementVNode"])("i"),Object(c["createTextVNode"])("人:")],-1)),O=o(()=>Object(c["createElementVNode"])("span",null,"联系方式:",-1)),j=o(()=>Object(c["createElementVNode"])("span",null,"收货地址:",-1)),p={key:1,class:"address-left addressempty"},v=o(()=>Object(c["createElementVNode"])("i",{class:"iconfont icon-cuowu1"},null,-1)),V=o(()=>Object(c["createElementVNode"])("span",null,"需要添加地址才能支付订单！",-1)),f=[v,V],N={class:"address-right"},E={class:"address-right-right"},y={class:"area-line"},h=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"商品信息",-1)),g={class:"product-area"},C=o(()=>Object(c["createElementVNode"])("div",{class:"product-head"},[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,"商品信息"),Object(c["createElementVNode"])("li",null,"单价"),Object(c["createElementVNode"])("li",null,"数量"),Object(c["createElementVNode"])("li",null,"小计"),Object(c["createElementVNode"])("li",null,"实付")])],-1)),k={class:"product-body"},D={class:"product-info"},w={class:"product-img"},x=["src"],T={class:"product-detail"},S={class:"product-unitprice"},A={class:"product-number"},B={class:"product-subtotal"},_={class:"order-paymoney"},L=Object(c["createStaticVNode"])('<div class="area-line" data-v-a7143a76><div class="title" data-v-a7143a76>配送选择</div><div class="deliveryd-area" data-v-a7143a76><ul data-v-a7143a76><li class="active" data-v-a7143a76><span data-v-a7143a76>工作日配送</span></li><li data-v-a7143a76><span data-v-a7143a76>周末配送</span></li></ul></div></div><div class="area-line" data-v-a7143a76><div class="title" data-v-a7143a76>支付方式</div><div class="payType-area" data-v-a7143a76><ul data-v-a7143a76><li class="active" data-v-a7143a76><span data-v-a7143a76>在线支付</span></li><li data-v-a7143a76><span data-v-a7143a76>货到付款</span></li></ul></div></div>',2),I={key:0,class:"area-line"},P=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"全部明细",-1)),F={class:"payDetail-area"},z=o(()=>Object(c["createElementVNode"])("span",null,"商品件数:",-1)),U=o(()=>Object(c["createElementVNode"])("span",null,"商品总价:",-1)),G=o(()=>Object(c["createElementVNode"])("span",null,[Object(c["createTextVNode"])("运"),Object(c["createElementVNode"])("i"),Object(c["createElementVNode"])("i"),Object(c["createElementVNode"])("i"),Object(c["createElementVNode"])("i"),Object(c["createTextVNode"])("费:")],-1)),M=o(()=>Object(c["createElementVNode"])("span",null,"应付总额:",-1)),J={class:"totalPrice"},$={class:"gopay-area"};function q(e,t,a,o,v,V){const q=Object(c["resolveComponent"])("rbreaditem"),H=Object(c["resolveComponent"])("rbread"),K=Object(c["resolveComponent"])("rbutton"),Q=Object(c["resolveComponent"])("addAddressDialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(H,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(q,{to:"/"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("首页")]),_:1}),Object(c["createVNode"])(q,{to:"/cart"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("购物车")]),_:1}),Object(c["createVNode"])(q,{to:"/checkorder"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("订单确认页面")]),_:1})]),_:1})]),Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[i,Object(c["createElementVNode"])("div",b,[o.checkorderData.userAddresses&&o.checkorderData.userAddresses.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,[m,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.checkorderData.userAddresses[o.checkorderData.userAddresses.length-1].receiver),1)]),Object(c["createElementVNode"])("li",null,[O,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.checkorderData.userAddresses[o.checkorderData.userAddresses.length-1].contact),1)]),Object(c["createElementVNode"])("li",null,[j,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.checkorderData.userAddresses[o.checkorderData.userAddresses.length-1].fullLocation),1)])])])):Object(c["createCommentVNode"])("",!0),o.checkorderData.userAddresses&&o.checkorderData.userAddresses.length<=0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",p,f)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",N,[o.checkorderData.userAddresses&&o.checkorderData.userAddresses.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"address-right-left",onClick:t[0]||(t[0]=(...e)=>o.editAddress&&o.editAddress(...e))},"修改地址")):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",E,[o.checkorderData.userAddresses&&o.checkorderData.userAddresses.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(K,{key:0,type:"line",size:"default",onClick:o.changeAddress},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("切换地址")]),_:1},8,["onClick"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(K,{type:"line",size:"default",onClick:t[1]||(t[1]=e=>o.showAddressdialog=!0)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("添加地址")]),_:1})])])])]),Object(c["createElementVNode"])("div",y,[h,Object(c["createElementVNode"])("div",g,[C,Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.checkorderData.goods,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t},[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("img",{src:e.picture,alt:""},null,8,x)]),Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.name),1),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.attrsText),1)])]),Object(c["createElementVNode"])("div",S,Object(c["toDisplayString"])(e.price),1),Object(c["createElementVNode"])("div",A,Object(c["toDisplayString"])(e.count),1),Object(c["createElementVNode"])("div",B,Object(c["toDisplayString"])(e.totalPrice),1),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(e.totalPayPrice),1)]))),128))])])])]),L,o.checkorderData.summary?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",I,[P,Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,[z,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.checkorderData.summary.goodsCount)+"件",1)]),Object(c["createElementVNode"])("li",null,[U,Object(c["createElementVNode"])("span",null,"¥"+Object(c["toDisplayString"])(o.checkorderData.summary.totalPayPrice),1)]),Object(c["createElementVNode"])("li",null,[G,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.checkorderData.summary.postFee)+"元",1)]),Object(c["createElementVNode"])("li",null,[M,Object(c["createElementVNode"])("span",J,"¥"+Object(c["toDisplayString"])(o.checkorderData.summary.totalPayPrice),1)])])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",$,[Object(c["createVNode"])(K,{onClick:o.submitOrder,loading:o.payLoading,loadingText:"正在为您提交订单",disabled:!(o.checkorderData.userAddresses&&o.checkorderData.userAddresses.length>0)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("提交订单")]),_:1},8,["onClick","loading","disabled"])])])]),Object(c["createVNode"])(Q,{visible:o.showAddressdialog,"onUpdate:visible":t[2]||(t[2]=e=>o.showAddressdialog=e),onAddressSuccess:o.addressSuccess},null,8,["visible","onAddressSuccess"])])}var H=a("f8b7"),K=a("2671");const Q=e=>(Object(c["pushScopeId"])("data-v-4ef26847"),e=e(),Object(c["popScopeId"])(),e),R={class:"r-addAddressDialog-components"},W=Q(()=>Object(c["createElementVNode"])("span",null,"收货人：",-1)),X=Q(()=>Object(c["createElementVNode"])("span",null,"手机号：",-1)),Y={class:"areacom"},Z=Q(()=>Object(c["createElementVNode"])("span",null,"地区：",-1)),ee=Q(()=>Object(c["createElementVNode"])("span",null,"详细地址：",-1)),te=Q(()=>Object(c["createElementVNode"])("span",null,"邮政编码：",-1)),ae=Q(()=>Object(c["createElementVNode"])("span",null,"地址标签：",-1));function ce(e,t,a,o,l,d){const r=Object(c["resolveComponent"])("Field"),n=Object(c["resolveComponent"])("rselectcity"),s=Object(c["resolveComponent"])("Form"),i=Object(c["resolveComponent"])("rdialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",R,[Object(c["createVNode"])(i,{width:"42%",height:"auto",visible:a.visible,"onUpdate:visible":t[5]||(t[5]=e=>a.visible=e),title:"添加收货地址👋",onClose:o.closedialog,onConfirm:o.confirm},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(s,{class:"address-form","validation-schema":o.addformVerify,autocomplete:"off",ref:"formCom"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,[W,Object(c["createVNode"])(r,{type:"text",placeholder:"请输入收货人",modelValue:o.formData.receiver,"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.receiver=e),modelModifiers:{trim:!0},name:"receiver"},null,8,["modelValue"])]),Object(c["createElementVNode"])("li",null,[X,Object(c["createVNode"])(r,{type:"number",placeholder:"请输入手机号",modelValue:o.formData.contact,"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.contact=e),modelModifiers:{number:!0},name:"contact",maxlength:"11"},null,8,["modelValue"])]),Object(c["createElementVNode"])("li",Y,[Z,Object(c["createVNode"])(n,{onChange:o.selectCity,fullLocation:o.fullLocation},null,8,["onChange","fullLocation"])]),Object(c["createElementVNode"])("li",null,[ee,Object(c["createVNode"])(r,{type:"text",placeholder:"请输入详细地址",modelValue:o.formData.address,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.address=e),name:"address"},null,8,["modelValue"])]),Object(c["createElementVNode"])("li",null,[te,Object(c["createVNode"])(r,{type:"number",placeholder:"请输入邮政编码",modelValue:o.formData.postalCode,"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.postalCode=e),name:"postalCode"},null,8,["modelValue"])]),Object(c["createElementVNode"])("li",null,[ae,Object(c["createVNode"])(r,{type:"text",placeholder:"请输入地址标签",modelValue:o.formData.addressTags,"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.addressTags=e),name:"addressTags"},null,8,["modelValue"])])])]),_:1},8,["validation-schema"])]),_:1},8,["visible","onClose","onConfirm"])])}var oe=a("6a8c"),le=a("7bb1"),de={receiver(e){return console.log("verify"),!!e||"请输入收货人"},contact(e){const t=/^1[3-9]\d{9}/;return!!t.test(e)||"手机号错误🙅"},areainfo(e){return!!e||"请选择城市"},address(e){return!!e||"请输入详细地址"},postalCode(e){return!!e||"请输入邮政编码"}},re={setup(e,{emit:t}){const a=Object(c["ref"])(null),o=Object(c["ref"])(""),l=()=>{s(),t("update:visible",!1)},d={receiver:de.receiver,contact:de.contact,address:de.address,postalCode:de.postalCode},r=Object(c["reactive"])({receiver:"",contact:"",provinceCode:"",cityCode:"",countyCode:"",address:"",postalCode:"",addressTags:"",isDefault:0,fullLocation:""}),n=e=>{r.provinceCode=e.provinceCode,r.cityCode=e.cityCode,r.countyCode=e.countyCode,o.value=e.fullLocation},s=()=>{r.receiver="",r.contact="",r.provinceCode="",r.cityCode="",r.countyCode="",r.address="",r.postalCode="",r.addressTags="",r.isDefault=0,r.fullLocation="",r.provinceCode="",r.cityCode="",r.countyCode="",o.value=""},i=async()=>{const e=await a.value.validate();e&&r.provinceCode?(await Object(H["a"])(r),t("update:visible",!1),s(),Object(K["a"])({type:"success",text:"小主地址添加成功，愉快购物～",offsetTop:170}),t("addressSuccess")):Object(K["a"])({type:"error",text:"信息还没填写完整哦！",offsetTop:170})};return{closedialog:l,addformVerify:d,formData:r,selectCity:n,confirm:i,formCom:a,fullLocation:o}},props:{visible:{type:Boolean,default:!1}},components:{rdialog:oe["a"],Form:le["b"],Field:le["a"]}},ne=(a("1110"),a("d959")),se=a.n(ne);const ie=se()(re,[["render",ce],["__scopeId","data-v-4ef26847"]]);var be=ie,ue=a("6605"),me={name:"checkorder",setup(){const e=Object(ue["d"])(),t=Object(c["ref"])({}),a=Object(c["ref"])(!1),o=Object(c["ref"])(!1),l=async()=>{const{result:e}=await Object(H["c"])();console.log(e),t.value=e};Object(c["onMounted"])(()=>{l()});const d=()=>{Object(K["a"])({type:"warn",text:"臣妾做不到啊！",offsetTop:170})},r=()=>{Object(K["a"])({type:"warn",text:"程序员小哥正在开发中！",offsetTop:170})},n=()=>{l()},s=async()=>{o.value=!0;const a={goods:t.value.goods.map(e=>({skuId:e.skuId,count:e.count})),addressId:t.value.userAddresses[t.value.userAddresses.length-1].id,deliveryTimeType:2,payType:1,payChannel:1,buyerMessage:"拿好一点的货"},c=await Object(H["b"])(a);"操作成功"===c.msg&&(o.value=!1,await e.replace({path:"/pay/"+c.result.id}))};return{checkorderData:t,editAddress:d,changeAddress:r,showAddressdialog:a,addressSuccess:n,submitOrder:s,payLoading:o}},components:{addAddressDialog:be}};a("cb0c");const Oe=se()(me,[["render",q],["__scopeId","data-v-a7143a76"]]);t["default"]=Oe},1110:function(e,t,a){"use strict";a("5d5c")},"2a8f":function(e,t,a){},"5d5c":function(e,t,a){},"6a8c":function(e,t,a){"use strict";var c=a("7a23");const o={class:"r-dialog-components"},l={class:"r-dialog-head"},d={class:"head-title"},r={class:"r-dialog-body"},n={key:0,class:"r-dialog-footer"};function s(e,t,a,s,i,b){const u=Object(c["resolveComponent"])("rbutton");return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["r-dialog-mask",{fade:s.fade,leave:!s.fade}])},null,2),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["r-dialog-content",{fade:s.fade}]),style:Object(c["normalizeStyle"])([s.dialogStyle])},[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",d,Object(c["toDisplayString"])(a.title),1),Object(c["createElementVNode"])("i",{class:"iconfont icon-guanbi1",onClick:t[0]||(t[0]=(...e)=>s.closeDialog&&s.closeDialog(...e))})]),Object(c["createElementVNode"])("div",r,[Object(c["renderSlot"])(e.$slots,"default",{},()=>[Object(c["createTextVNode"])("内容区域")],!0)]),a.showFooter?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createVNode"])(u,{type:"line",size:"default",onClick:s.closeDialog},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("取消")]),_:1},8,["onClick"]),Object(c["createVNode"])(u,{size:"default",onClick:s.confirm},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("确认")]),_:1},8,["onClick"])])):Object(c["createCommentVNode"])("",!0)],6)],512)),[[c["vShow"],a.visible]])}var i={name:"rdialog",props:{title:{type:String,default:"默认标题"},width:{type:String,default:"300px"},height:{type:String,default:"200px"},top:{type:String,default:"50%"},visible:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0}},setup(e,{emit:t}){const a=Object(c["computed"])(()=>({width:e.width,height:e.height,top:e.top})),o=()=>{t("update:visible",!1),t("close")},l=Object(c["ref"])(!0);Object(c["watch"])(()=>e.visible,()=>{!0===e.visible?document.body.style="overflow:hidden;":document.body.style="overflow-y:scroll;",setTimeout(()=>{l.value=e.visible},0)},{immediate:!0});const d=()=>{t("confirm")};return{dialogStyle:a,closeDialog:o,fade:l,confirm:d}}},b=(a("f917"),a("d959")),u=a.n(b);const m=u()(i,[["render",s],["__scopeId","data-v-4de5175f"]]);t["a"]=m},cb0c:function(e,t,a){"use strict";a("fbd8")},f8b7:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return s}));var c=a("b775");function o(){return Object(c["a"])("/member/order/pre","GET")}function l(e){return Object(c["a"])("/member/address","POST",e)}function d(e){return Object(c["a"])("/member/order","POST",e)}function r(e){return Object(c["a"])("/member/order/"+e,"GET")}function n(e){return Object(c["a"])("/member/order/"+e,"GET")}function s(e){return Object(c["a"])("/member/order","GET",e)}},f917:function(e,t,a){"use strict";a("2a8f")},fbd8:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0f66a4b1.bed9cf47.js.map